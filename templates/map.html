{% extends "master.html" %}


{% block title %}Send Coords, get Map!{% endblock %}
{% block body %}

<div id="map"></div>

{% endblock %}

{% block script %}
<script type="text/javascript">

var CenterLatLng = {lat:{{coords[0]['latitude']}}, lng:{{coords[0]['longitude']}}};
var map;
function initMap(){
  map = new google.maps.Map(document.getElementById('map'),{
    center: CenterLatLng
  });
  var i = 0
  {% for coord in coords %}
  var markerLatLng = { lat : {{ coord['latitude'] }} , lng : {{ coord['longitude'] }} };
  var marker = new google.maps.Marker({
    position:markerLatLng,
    map:map,
    title:i.toString(),
    animation:google.maps.Animation.DROP
  });
  {% endfor %}
}
</script>

<script async defer src ="https://maps.googleapis.com/maps/api/js?key={{API_KEY}}&callback=initMap"></script>
{% endblock %}
